(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{78054:function(e,t,n){Promise.resolve().then(n.t.bind(n,48381,23)),Promise.resolve().then(n.t.bind(n,97202,23)),Promise.resolve().then(n.t.bind(n,53054,23)),Promise.resolve().then(n.bind(n,77567)),Promise.resolve().then(n.bind(n,26739))},36127:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(78030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},77567:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var a=n(57437),i=n(2265),r=n(43257);function l(e){let{children:t}=e,{theme:l,setUser:o}=(0,r.q)();return(0,i.useEffect)(()=>{"dark"===l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]),(0,i.useEffect)(()=>{let{user:e,logout:t}=r.q.getState();e&&(void 0===e.isAuthenticated||null===e.isAuthenticated)&&(console.warn("Corrupted user state detected, resetting."),t())},[]),(0,i.useEffect)(()=>{(async()=>{try{let{auth:e}=await Promise.all([n.e(4358),n.e(9637),n.e(9279),n.e(6704),n.e(9144),n.e(5623),n.e(9506)]).then(n.bind(n,89506)),{onAuthStateChanged:t}=await Promise.all([n.e(9637),n.e(9279),n.e(9144)]).then(n.bind(n,5186)),a=t(e,async e=>{try{if(e){let{doc:t,getDoc:a}=await Promise.all([n.e(4358),n.e(9279),n.e(6704)]).then(n.bind(n,69842)),{db:i}=await Promise.all([n.e(4358),n.e(9637),n.e(9279),n.e(6704),n.e(9144),n.e(5623),n.e(9506)]).then(n.bind(n,89506)),r=(await a(t(i,"users",e.uid))).data();o({id:e.uid,name:e.displayName||(null==r?void 0:r.salonName)||"User",email:e.email,isAuthenticated:!0,onboardingComplete:(null==r?void 0:r.onboardingComplete)||!1})}else o({id:null,name:null,email:null,isAuthenticated:!1,onboardingComplete:!1})}catch(t){console.error("Error fetching user data:",t),o({id:(null==e?void 0:e.uid)||null,name:(null==e?void 0:e.displayName)||"User",email:(null==e?void 0:e.email)||null,isAuthenticated:!!e,onboardingComplete:!1})}finally{r.q.getState().setAuthReady(!0)}});return()=>a()}catch(e){console.error("Firebase Auth Init Failed:",e),r.q.getState().setAuthReady(!0)}})();let e=setTimeout(()=>{r.q.getState().isAuthReady||(console.warn("Auth initialization timed out, forcing ready state."),r.q.getState().setAuthReady(!0))},3e3);return()=>clearTimeout(e)},[o]),(0,a.jsx)(a.Fragment,{children:t})}},26739:function(e,t,n){"use strict";n.d(t,{GlobalErrorBoundary:function(){return o}});var a=n(57437),i=n(2265),r=n(36127);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n(78030).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);class o extends i.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center border border-gray-100",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(r.Z,{className:"text-red-500",size:32})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"We're sorry, but the application encountered an unexpected error."}),this.state.error&&(0,a.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-left text-xs font-mono text-gray-700 mb-6 overflow-auto max-h-32",children:this.state.error.toString()}),(0,a.jsxs)("button",{onClick:()=>window.location.reload(),className:"w-full bg-charcoal text-white py-3 rounded-xl font-bold hover:bg-black transition-all flex items-center justify-center gap-2",children:[(0,a.jsx)(l,{size:18}),(0,a.jsx)("span",{children:"Reload Application"})]})]})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1,error:null}}}},43257:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var a=n(10903),i=n(89291);let r=(0,a.U)()((0,i.tJ)(e=>({theme:"light",toggleTheme:()=>e(e=>({theme:"light"===e.theme?"dark":"light"})),user:{id:null,name:null,email:null,salonName:null,isAuthenticated:!1,onboardingComplete:!1},isAuthReady:!1,setAuthReady:t=>e({isAuthReady:t}),setUser:t=>e({user:t}),logout:()=>e({user:{id:null,name:null,email:null,salonName:null,isAuthenticated:!1,onboardingComplete:!1}}),notifications:[],addNotification:(t,n)=>e(e=>({notifications:[...e.notifications,{id:Date.now().toString(),message:t,type:n}]})),removeNotification:t=>e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))}),{name:"lacqr-storage",partialize:e=>({theme:e.theme,user:e.user}),version:1,migrate:(e,t)=>0===t?{theme:"light",user:{id:null,name:null,email:null,salonName:null,isAuthenticated:!1,onboardingComplete:!1}}:e}))},53054:function(){},48381:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}},97202:function(e){e.exports={style:{fontFamily:"'__Playfair_Display_0a80b4', '__Playfair_Display_Fallback_0a80b4'",fontStyle:"normal"},className:"__className_0a80b4",variable:"__variable_0a80b4"}}},function(e){e.O(0,[2076,742,2971,7023,1744],function(){return e(e.s=78054)}),_N_E=e.O()}]);