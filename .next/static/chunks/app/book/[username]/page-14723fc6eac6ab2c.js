(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6509],{24808:function(e,l,s){Promise.resolve().then(s.bind(s,74187))},74187:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return c}});var a=s(57437),o=s(2265),n=s(69842),r=s(89506),t=s(97311),i=s(11925);function c(e){var l,s;let{params:c}=e,[d,m]=(0,o.useState)(null),[u,h]=(0,o.useState)(!0),[x,g]=(0,o.useState)(null);if((0,o.useEffect)(()=>{let e=async()=>{try{console.log("\uD83D\uDD0D Fetching salon for handle:",c.username);let e=(0,n.collection)(r.db,"users"),l=(0,n.IO)(e,(0,n.ar)("bookingHandle","==",c.username.toLowerCase())),s=await (0,n.PL)(l);if(console.log("\uD83D\uDCF8 Query snapshot size:",s.size),s.empty)console.warn("⚠️ No salon found for handle:",c.username),g("Salon not found.");else{let e=s.docs[0].data();console.log("✅ Salon found:",e.salonName),m({id:s.docs[0].id,...e})}}catch(e){console.error("❌ Error fetching salon:",e),g("Failed to load booking page.")}finally{h(!1)}};c.username&&e()},[c.username]),u)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full mb-4"}),(0,a.jsx)("div",{className:"h-4 w-32 bg-gray-200 rounded"})]})});if(x||!d)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops!"}),(0,a.jsx)("p",{className:"text-gray-500",children:x||"This booking page does not exist."})]})});let f=d.bookingConfig||{themeColor:d.brandColor||"#ec4899",welcomeMessage:"Welcome to ".concat(d.salonName||d.name,"'s booking page!"),policies:[],showSocialLinks:!1},b=d.brandColor||f.themeColor||"#ec4899";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-48 w-full bg-cover bg-center",style:{backgroundColor:b,backgroundImage:d.headerImageUrl?"url(".concat(d.headerImageUrl,")"):"none"},children:!d.headerImageUrl&&(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-black/10"})}),(0,a.jsxs)("div",{className:"max-w-md mx-auto px-4 relative -mt-16 text-center z-10 mb-8",children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-white rounded-full mx-auto mb-4 p-1 shadow-xl",children:d.logoUrl?(0,a.jsx)("img",{src:d.logoUrl,alt:d.salonName||"Salon Logo",className:"w-full h-full rounded-full object-cover bg-gray-200"}):(0,a.jsx)("div",{className:"w-full h-full rounded-full bg-gray-200 flex items-center justify-center text-gray-400 text-4xl font-bold",children:((null===(l=d.salonName)||void 0===l?void 0:l[0])||(null===(s=d.name)||void 0===s?void 0:s[0])||"S").toUpperCase()})}),(0,a.jsx)("h1",{className:"text-2xl font-black text-gray-900 mb-1",children:d.salonName||d.name}),(0,a.jsxs)("p",{className:"text-gray-500 font-medium mb-4",children:["@",d.bookingHandle]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg text-white relative overflow-hidden",style:{backgroundColor:b},children:[(0,a.jsx)("h3",{className:"font-bold mb-2 relative z-10",children:"Welcome"}),(0,a.jsx)("p",{className:"text-sm opacity-90 relative z-10",children:f.welcomeMessage}),(0,a.jsx)("div",{className:"absolute -top-12 -right-12 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]})]})]}),(0,a.jsxs)("div",{className:"max-w-md mx-auto px-4 pb-12",children:[f.policies&&f.policies.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-3",children:"Please Read Before Booking"}),(0,a.jsx)("ul",{className:"space-y-2",children:f.policies.map((e,l)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-gray-400 flex-shrink-0"}),e]},l))})]}),(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-center mb-6",children:"Get a Quote & Book"}),(0,a.jsx)(t.Z,{menu:d.serviceMenu||i.pu,isAuthenticated:!1})]})})]})]})}}},function(e){e.O(0,[4358,9637,9279,6704,9144,5623,7138,742,5752,1943,7311,2971,7023,1744],function(){return e(e.s=24808)}),_N_E=e.O()}]);