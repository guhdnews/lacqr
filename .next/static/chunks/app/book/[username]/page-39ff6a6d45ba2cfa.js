(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6509],{24808:function(e,s,l){Promise.resolve().then(l.bind(l,74187))},74187:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return i}});var a=l(57437),o=l(2265),n=l(69842),t=l(89506),r=l(97311),c=l(11925);function i(e){var s,l;let{params:i}=e,[d,m]=(0,o.useState)(null),[u,h]=(0,o.useState)(!0),[x,f]=(0,o.useState)(null);if((0,o.useEffect)(()=>{let e=async()=>{try{console.log("\uD83D\uDD0D Fetching salon for handle:",i.username);let e=(0,n.collection)(t.db,"users"),s=(0,n.IO)(e,(0,n.ar)("bookingHandle","==",i.username.toLowerCase())),l=await (0,n.PL)(s);if(console.log("\uD83D\uDCF8 Query snapshot size:",l.size),l.empty)console.warn("⚠️ No salon found for handle:",i.username),f("Salon not found.");else{let e=l.docs[0].data();console.log("✅ Salon found:",e.salonName),m({id:l.docs[0].id,...e})}}catch(e){console.error("❌ Error fetching salon:",e),f("Failed to load booking page.")}finally{h(!1)}};i.username&&e()},[i.username]),u)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full mb-4"}),(0,a.jsx)("div",{className:"h-4 w-32 bg-gray-200 rounded"})]})});if(x||!d)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops!"}),(0,a.jsx)("p",{className:"text-gray-500",children:x||"This booking page does not exist."})]})});let g=d.bookingConfig||{themeColor:d.brandColor||"#ec4899",welcomeMessage:"Welcome to ".concat(d.salonName||d.name,"'s booking page!"),policies:[],showSocialLinks:!1,font:"sans",buttonStyle:"rounded"},b=d.brandColor||g.themeColor||"#ec4899",N={sans:"font-sans",serif:"font-serif",mono:"font-mono"}[g.font]||"font-sans",j={rounded:"rounded-xl",pill:"rounded-full",square:"rounded-none"}[g.buttonStyle]||"rounded-xl";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 ".concat(N),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-48 w-full bg-cover bg-center",style:{backgroundColor:b,backgroundImage:d.headerImageUrl?"url(".concat(d.headerImageUrl,")"):"none"},children:!d.headerImageUrl&&(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-black/10"})}),(0,a.jsxs)("div",{className:"max-w-md mx-auto px-4 relative -mt-16 text-center z-10 mb-8",children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-white rounded-full mx-auto mb-4 p-1 shadow-xl",children:d.logoUrl?(0,a.jsx)("img",{src:d.logoUrl,alt:d.salonName||"Salon Logo",className:"w-full h-full rounded-full object-cover bg-gray-200"}):(0,a.jsx)("div",{className:"w-full h-full rounded-full bg-gray-200 flex items-center justify-center text-gray-400 text-4xl font-bold",children:((null===(s=d.salonName)||void 0===s?void 0:s[0])||(null===(l=d.name)||void 0===l?void 0:l[0])||"S").toUpperCase()})}),(0,a.jsx)("h1",{className:"text-2xl font-black text-gray-900 mb-1",children:d.salonName||d.name}),(0,a.jsxs)("p",{className:"text-gray-500 font-medium mb-4",children:["@",d.bookingHandle]}),(0,a.jsxs)("div",{className:"bg-white p-6 shadow-lg text-white relative overflow-hidden ".concat(j),style:{backgroundColor:b},children:[(0,a.jsx)("h3",{className:"font-bold mb-2 relative z-10",children:"Welcome"}),(0,a.jsx)("p",{className:"text-sm opacity-90 relative z-10",children:g.welcomeMessage}),(0,a.jsx)("div",{className:"absolute -top-12 -right-12 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]})]})]}),(0,a.jsxs)("div",{className:"max-w-md mx-auto px-4 pb-12",children:[g.policies&&g.policies.length>0&&(0,a.jsxs)("div",{className:"bg-white shadow-sm border border-gray-100 p-6 mb-6 ".concat(j),children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-3",children:"Please Read Before Booking"}),(0,a.jsx)("ul",{className:"space-y-2",children:g.policies.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-gray-400 flex-shrink-0"}),e]},s))})]}),(0,a.jsx)("div",{className:"bg-white shadow-xl border border-gray-100 overflow-hidden ".concat(j),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-center mb-6",children:"Get a Quote & Book"}),(0,a.jsx)(r.Z,{menu:d.serviceMenu||c.pu,isAuthenticated:!1,themeColor:b,buttonStyle:g.buttonStyle})]})})]})]})}}},function(e){e.O(0,[4358,9637,9279,6704,9144,5623,7138,742,5752,1943,7311,2971,7023,1744],function(){return e(e.s=24808)}),_N_E=e.O()}]);