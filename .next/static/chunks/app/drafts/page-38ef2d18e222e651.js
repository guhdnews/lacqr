(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3818,9506],{72676:function(e,t,a){Promise.resolve().then(a.bind(a,4570))},71976:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},40933:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},22023:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10883:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},16463:function(e,t,a){"use strict";var r=a(71169);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},4570:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var r=a(57437),s=a(62565),n=a(22023);function i(){return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center text-pink-500",children:(0,r.jsx)(n.Z,{size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-charcoal font-display",children:"Saved Drafts"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage your saved quotes and resume work."})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:(0,r.jsx)(s.Z,{})})]})}},62565:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var r=a(57437),s=a(2265),n=a(69842),i=a(89506),l=a(43257),o=a(40933),d=a(22023),c=a(10883),u=a(71976),h=a(16463);function m(){let{user:e}=(0,l.q)(),[t,a]=(0,s.useState)([]),[m,x]=(0,s.useState)(!0),f=(0,h.useRouter)();(0,s.useEffect)(()=>{(async()=>{if(null==e?void 0:e.id)try{let t=(0,n.IO)((0,n.collection)(i.db,"quotes"),(0,n.ar)("userId","==",e.id),(0,n.ar)("status","==","draft"),(0,n.Xo)("createdAt","desc")),r=await (0,n.PL)(t),s=new Date,l=new Date(s.getTime()-12096e5),o=r.docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.expiresAt?new Date(1e3*e.expiresAt.seconds)>s:new Date(1e3*e.createdAt.seconds)>l);a(o)}catch(e){console.error("Error fetching drafts:",e)}finally{x(!1)}})()},[e]);let p=async(e,t)=>{if(t.stopPropagation(),confirm("Are you sure you want to delete this draft?"))try{await (0,n.oe)((0,n.doc)(i.db,"quotes",e)),a(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting draft:",e),alert("Failed to delete draft.")}},g=e=>{f.push("/dashboard/lacqr-lens?draftId=".concat(e.id))};return m?(0,r.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Loading drafts..."}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-4 flex items-start gap-3 text-sm text-amber-800",children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Note:"})," Drafts are automatically removed after 14 days. Please finalize your quotes before they expire."]})]}),0===t.length?(0,r.jsxs)("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-gray-100",children:[(0,r.jsx)(d.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"text-gray-900 font-medium",children:"No Active Drafts"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Saved quotes will appear here for 14 days."})]}):(0,r.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,r.jsxs)("div",{onClick:()=>g(e),className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all cursor-pointer group flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsxs)("span",{className:"font-bold text-gray-900",children:[e.data.base.system," ",e.data.base.isFill?"Fill":"Set"]}),(0,r.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:["$",e.totalPrice.total]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,r.jsx)(o.Z,{size:12}),(0,r.jsx)("span",{children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()}),e.clientName&&(0,r.jsxs)("span",{className:"text-pink-500 font-medium",children:["â€¢ ",e.clientName]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:t=>p(e.id,t),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,r.jsx)(c.Z,{size:16})}),(0,r.jsx)("div",{className:"p-2 text-gray-300 group-hover:text-pink-500 transition-colors",children:(0,r.jsx)(u.Z,{size:20})})]})]},e.id))})]})}},89506:function(e,t,a){"use strict";a.r(t),a.d(t,{app:function(){return l},auth:function(){return o},db:function(){return d},storage:function(){return c}});var r=a(15236),s=a(5186),n=a(69842),i=a(99854);let l=(0,r.ZF)({apiKey:"AIzaSyB... (rest of your firebase config)",authDomain:"lacqr-app-81378.firebaseapp.com",projectId:"lacqr-app-81378",storageBucket:"lacqr-app-81378.firebasestorage.app",messagingSenderId:"193977101196",appId:"1:193977101196:web:a2546131f7d99e17a2c4a9"}),o=(0,s.v0)(l),d=(0,n.ad)(l),c=(0,i.cF)(l)},43257:function(e,t,a){"use strict";a.d(t,{q:function(){return n}});var r=a(10903),s=a(89291);let n=(0,r.U)()((0,s.tJ)(e=>({theme:"light",toggleTheme:()=>e(e=>({theme:"light"===e.theme?"dark":"light"})),user:{id:null,name:null,email:null,salonName:null,bookingHandle:null,bookingConfig:null,isAuthenticated:!1,onboardingComplete:!1},isAuthReady:!1,setAuthReady:t=>e({isAuthReady:t}),setUser:t=>e({user:t}),logout:()=>e({user:{id:null,name:null,email:null,salonName:null,bookingHandle:null,logoUrl:null,headerImageUrl:null,brandColor:null,bookingConfig:null,isAuthenticated:!1,onboardingComplete:!1}}),notifications:[],addNotification:(t,a)=>e(e=>({notifications:[...e.notifications,{id:Date.now().toString(),message:t,type:a}]})),removeNotification:t=>e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))}),{name:"lacqr-storage",partialize:e=>({theme:e.theme,user:e.user}),version:1,migrate:(e,t)=>0===t?{theme:"light",user:{id:null,name:null,email:null,salonName:null,bookingHandle:null,logoUrl:null,headerImageUrl:null,brandColor:null,bookingConfig:null,isAuthenticated:!1,onboardingComplete:!1}}:e}))}},function(e){e.O(0,[4358,9637,9279,6704,9144,5623,742,2971,7023,1744],function(){return e(e.s=72676)}),_N_E=e.O()}]);