(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702,9506],{49757:function(e,t,s){Promise.resolve().then(s.bind(s,11789))},71976:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(78030).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},80233:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(78030).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},40933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(78030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},22023:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(78030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},33907:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(78030).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},10883:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(78030).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},11240:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(78030).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},16463:function(e,t,s){"use strict";var a=s(71169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},11789:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(57437),r=s(43257),i=s(80233),n=s(33907),l=s(11240),c=s(71976),d=s(87138),o=s(62565);function u(){var e;let{user:t}=(0,r.q)(),s=[{title:"New Scan",desc:"Price a set with AI",icon:(0,a.jsx)(i.Z,{size:24,className:"text-white"}),bg:"bg-pink-500",link:"/lacqr-lens"},{title:"Smart Quote",desc:"Generate booking text",icon:(0,a.jsx)(n.Z,{size:24,className:"text-white"}),bg:"bg-indigo-500",link:"/smart-quote"},{title:"CRM",desc:"Manage your book",icon:(0,a.jsx)(l.Z,{size:24,className:"text-white"}),bg:"bg-purple-500",link:"/crm"}];return(0,a.jsxs)("div",{className:"p-8 space-y-8 max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-3xl p-8 text-white shadow-xl relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",(null==t?void 0:null===(e=t.name)||void 0===e?void 0:e.split(" ")[0])||"Tech","! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-gray-300 mb-6 max-w-lg",children:"Ready to price some sets? Your AI assistant is standing by."}),(0,a.jsxs)(d.default,{href:"/lacqr-lens",className:"inline-flex items-center gap-2 bg-white text-gray-900 px-6 py-3 rounded-xl font-bold hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(i.Z,{size:20}),"Start New Scan"]})]}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-pink-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500/20 rounded-full blur-3xl -ml-10 -mb-10"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map((e,t)=>(0,a.jsxs)(d.default,{href:e.link,className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all group",children:[(0,a.jsx)("div",{className:"".concat(e.bg," w-12 h-12 rounded-xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform"),children:e.icon}),(0,a.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.desc})]},t))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"font-bold text-xl text-gray-900",children:"Recent Drafts"}),(0,a.jsx)(d.default,{href:"/drafts",className:"text-sm text-pink-500 font-medium hover:text-pink-600",children:"View All"})]}),(0,a.jsx)(o.Z,{})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"font-bold text-xl text-gray-900",children:"Quick Tips"}),(0,a.jsx)("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(n.Z,{className:"text-indigo-500 mt-1 flex-shrink-0",size:20}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-indigo-900 text-sm mb-1",children:"Smart Quote"}),(0,a.jsx)("p",{className:"text-xs text-indigo-700 leading-relaxed",children:"Did you know you can share your Smart Quote link directly with clients? Check your settings to get your link!"}),(0,a.jsxs)(d.default,{href:"/settings",className:"text-xs font-bold text-indigo-600 mt-3 inline-flex items-center gap-1 hover:text-indigo-800",children:["Go to Settings ",(0,a.jsx)(c.Z,{size:12})]})]})]})})]})]})]})}},62565:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var a=s(57437),r=s(2265),i=s(69842),n=s(89506),l=s(43257),c=s(40933),d=s(22023),o=s(10883),u=s(71976),h=s(16463);function x(){let{user:e}=(0,l.q)(),[t,s]=(0,r.useState)([]),[x,m]=(0,r.useState)(!0),g=(0,h.useRouter)();(0,r.useEffect)(()=>{(async()=>{if(null==e?void 0:e.id)try{let t=(0,i.IO)((0,i.collection)(n.db,"quotes"),(0,i.ar)("userId","==",e.id),(0,i.ar)("status","==","draft"),(0,i.Xo)("createdAt","desc")),a=await (0,i.PL)(t),r=new Date,l=new Date(r.getTime()-12096e5),c=a.docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.expiresAt?new Date(1e3*e.expiresAt.seconds)>r:new Date(1e3*e.createdAt.seconds)>l);s(c)}catch(e){console.error("Error fetching drafts:",e)}finally{m(!1)}})()},[e]);let f=async(e,t)=>{if(t.stopPropagation(),confirm("Are you sure you want to delete this draft?"))try{await (0,i.oe)((0,i.doc)(n.db,"quotes",e)),s(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting draft:",e),alert("Failed to delete draft.")}},p=e=>{g.push("/lacqr-lens?draftId=".concat(e.id))};return x?(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Loading drafts..."}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-4 flex items-start gap-3 text-sm text-amber-800",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Note:"})," Drafts are automatically removed after 14 days. Please finalize your quotes before they expire."]})]}),0===t.length?(0,a.jsxs)("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-gray-100",children:[(0,a.jsx)(d.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("h3",{className:"text-gray-900 font-medium",children:"No Active Drafts"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Saved quotes will appear here for 14 days."})]}):(0,a.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,a.jsxs)("div",{onClick:()=>p(e),className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all cursor-pointer group flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("span",{className:"font-bold text-gray-900",children:[e.data.base.system," ",e.data.base.isFill?"Fill":"Set"]}),(0,a.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:["$",e.totalPrice.total]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)(c.Z,{size:12}),(0,a.jsx)("span",{children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()}),e.clientName&&(0,a.jsxs)("span",{className:"text-pink-500 font-medium",children:["â€¢ ",e.clientName]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:t=>f(e.id,t),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(o.Z,{size:16})}),(0,a.jsx)("div",{className:"p-2 text-gray-300 group-hover:text-pink-500 transition-colors",children:(0,a.jsx)(u.Z,{size:20})})]})]},e.id))})]})}},89506:function(e,t,s){"use strict";s.d(t,{auth:function(){return c},db:function(){return d},t:function(){return o}});var a=s(15236),r=s(5186),i=s(69842),n=s(99854);let l=(0,a.ZF)({apiKey:"AIzaSyB15DcOdN4Qbhy7_u1oFEI6ZGxkBR52LcQ",authDomain:"lacqr-app-81378.firebaseapp.com",projectId:"lacqr-app-81378",storageBucket:"lacqr-app-81378.firebasestorage.app",messagingSenderId:"193977101196",appId:"1:193977101196:web:a2546131f7d99e17a2c4a9"}),c=(0,r.v0)(l),d=(0,i.ad)(l),o=(0,n.cF)(l)},43257:function(e,t,s){"use strict";s.d(t,{q:function(){return i}});var a=s(10903),r=s(89291);let i=(0,a.U)()((0,r.tJ)(e=>({theme:"light",toggleTheme:()=>e(e=>({theme:"light"===e.theme?"dark":"light"})),user:{id:null,name:null,email:null,salonName:null,isAuthenticated:!1,onboardingComplete:!1},isAuthReady:!1,setAuthReady:t=>e({isAuthReady:t}),setUser:t=>e({user:t}),logout:()=>e({user:{id:null,name:null,email:null,salonName:null,isAuthenticated:!1,onboardingComplete:!1}}),notifications:[],addNotification:(t,s)=>e(e=>({notifications:[...e.notifications,{id:Date.now().toString(),message:t,type:s}]})),removeNotification:t=>e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))}),{name:"lacqr-storage",partialize:e=>({theme:e.theme,user:e.user}),version:1,migrate:(e,t)=>0===t?{theme:"light",user:{id:null,name:null,email:null,salonName:null,isAuthenticated:!1,onboardingComplete:!1}}:e}))}},function(e){e.O(0,[4358,9637,9279,742,6704,9144,5623,7138,2971,7023,1744],function(){return e(e.s=49757)}),_N_E=e.O()}]);