# Tasks

- [x] Fix Moondream 'PhiForCausalLM' error <!-- id: 0 -->
- [x] Verify Frontend Integration (Time Option, Colored Cards, ai.ts labels) <!-- id: 1 -->
    - [ ] Verify "Time" option in Service Configurator
    - [ ] Verify "Colored Cards" aesthetic
    - [ ] Verify `ai.ts` handling of "nail" vs "nail_plate"
- [x] Update Documentation (webgemini.md) <!-- id: 2 -->
- [x] Investigate AI Accuracy & Pricing Logic (Fix "80$ Issue") <!-- id: 3 -->
- [x] Verify Scan & Price Workflow (Flawless Execution) <!-- id: 4 -->
- [x] Deploy to Vercel & Update Git <!-- id: 5 -->
- [x] Fix Moondream Deployment & Improve Accuracy (Implemented Open-World Pipeline) <!-- id: 6 -->
- [x] Final Deployment (Modal, Vercel, Git) <!-- id: 7 -->
- [x] Debug Accuracy & Remove Simulation Fallback (Gemini-First Approach) <!-- id: 8 -->
- [x] Redeploy with Accuracy Fixes & AI Inspector <!-- id: 9 -->
- [x] Debug Empty Florence Results (Backend Update) <!-- id: 10 -->
- [x] Tune Pricing & Complexity Logic (Leverage Florence Data) <!-- id: 11 -->
- [x] Implement Time-Based Pricing (Hourly Rate Sanity Check) <!-- id: 12 -->
- [x] Gap Analysis & Polish (Error Handling, Mobile UI) <!-- id: 13 -->
- [x] Deep Logic Audit & Comprehensive Mapping (Shapes, Art, Finishes) <!-- id: 14 -->
- [x] Refine Shape (Coffin vs Stiletto) & Description Detail <!-- id: 15 -->
- [x] Implement Time-Based Loading Notification (10s threshold) <!-- id: 16 -->
- [ ] Debug Persistent `lengthTier` Error & Logs Access <!-- id: 17 -->
    - [x] Create Remote Logger & Admin Page
    - [x] Fix Firestore Rules (User Applied)
    - [x] Fix Storage Rules (User Applied)
    - [x] Verify Firestore Write/Read (Diagnostic Page) - FAILED (404/Blank)
    - [ ] Debug Blank Page & 404 Issue
        - [ ] Check for Stale Service Worker (Vite PWA Legacy)
        - [ ] Implement Service Worker Killer in RootLayout
        - [ ] Verify Route Generation in Build
    - [ ] Fix `lengthTier` Root Cause (ServiceConfigurator/AI Service)
- [x] Strict Shape Logic (Tip Geometry) & Industry Standard Pricing Tiers <!-- id: 18 -->
